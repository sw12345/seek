<?php//report any errorerror_reporting(E_ALL); ini_set('display_errors', 1); mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);//connect to databaseinclude 'db_connect.php';//check value is set or notif(isset($_POST['radius'])) {    $radius = $_POST['radius'];    $lat = $_POST['latitude'];    $long = $_POST['longitude'];    //make a query    $query = "SELECT event_id, e_name, start_date, end_date, post_code, ( 6371 * acos( cos( radians(?) ) * cos( radians( latitude ) ) * cos( radians( longitude ) - radians(?) ) + sin( radians(?) ) * sin( radians( latitude ) ) ) ) AS distance FROM event HAVING distance < ? ORDER BY distance LIMIT 0 , 20";    if ($stmt = $conn->prepare($query)) {        $stmt->bind_param('ssss', $lat, $long, $lat, $radius);        //send query to db        $stmt->execute();        $stmt->store_result();        $stmt->bind_result($event_id, $e_name, $start_date, $end_date, $post_code, $distance);        //fetch values by looping through each row        while ($stmt->fetch()) {            $jsonResponse [] = array(                'eventId' => $event_id,                'name' => $e_name,                'startdate' => $start_date,                'enddate' => $end_date,                'postcode' => $post_code,                'distance' => $distance,            );            json_encode($jsonResponse);        };        echo json_encode($jsonResponse);        //close statement        $stmt->close();    }    //close connection    $conn->close();}?>